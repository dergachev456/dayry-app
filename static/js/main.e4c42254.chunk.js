(this["webpackJsonpblynk-test-task"]=this["webpackJsonpblynk-test-task"]||[]).push([[0],{103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){},113:function(e,t,n){},277:function(e,t,n){},281:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(21),o=n.n(r);n(103),n(104);function l(){return c.a.createElement("aside",{className:"aside"},c.a.createElement("h1",{className:"aside__title"},"dayry app"),c.a.createElement("span",{className:"aside__text"},"Comment whit no sence"))}n(105);var i=n(7),m=n(8),s=n(10),u=n(9);n(106);function d(){return Math.random().toString(36).substring(2,8)+Math.random().toString(36).substring(2,8)}var p=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={text:""},a.create=function(){var e=a.props.onClick,t=a.state.text;""!==t&&(e(d(),t),a.setState({text:""}),a.myRef.current.focus())},a.onChangeText=function(e){a.setState({text:e.target.value})},a.handleKeyPress=function(e){"Enter"===e.key&&a.create()},a.myRef=c.a.createRef(),a}return Object(m.a)(n,[{key:"render",value:function(){var e=this.state.text;return c.a.createElement("div",{className:"custom-form"},c.a.createElement("input",{ref:this.myRef,onKeyPress:this.handleKeyPress,onChange:this.onChangeText,value:e,placeholder:"Type name here...",className:"custom-form__input",type:"text"}),c.a.createElement("button",{onClick:this.create,className:"custom-form__button"},"Add new"))}}]),n}(a.Component);n(107),n(108);function E(e){var t=e.items,n=e.deleteItem,a=e.selectedItemIndex,r=e.setSelectedItemIndex;return c.a.createElement("div",{className:"item-list"},t&&t.map((function(e,t){return c.a.createElement("div",{onClick:function(){return r(t)},key:e.id,className:a===t?"item active":"item"},c.a.createElement("span",{className:"item__name"},e.name),c.a.createElement("div",{className:"item__count-container"},c.a.createElement("span",{className:"item__count"},e.comments.length)),c.a.createElement("button",{onClick:function(){return n(e.id)},className:"item__button"},"Delete"))})))}var h=n(14),f=function(){return{type:"SHOW_COLOR_PICKER"}},C=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).deleteItem=function(t){(0,e.props.deleteItem)(t)},e}return Object(m.a)(n,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.items,n=e.main,a=e.setSelectedItemIndex;0===t.filter((function(e,t){return n.selectedItemIndex===t})).length&&0!==t.length&&a(t.length-1)}},{key:"render",value:function(){var e=this.props,t=e.items,n=e.main,a=e.setSelectedItemIndex;return c.a.createElement(E,{items:t,deleteItem:this.deleteItem,selectedItemIndex:n.selectedItemIndex,setSelectedItemIndex:a})}}]),n}(a.Component),v=Object(h.b)((function(e){return{items:e.items,main:e.main}}),{deleteItem:function(e){return{type:"DELETE_ITEM",id:e}},setSelectedItemIndex:function(e){return{type:"SET_SELECTED_ITEM",payload:e}}})(C);function _(e){var t=e.onClickFormButton;return c.a.createElement("div",{className:"items"},c.a.createElement("h2",{className:"items__title"},"Items"),c.a.createElement(p,{onClick:t}),c.a.createElement(v,null))}var b=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props.createItem;return c.a.createElement(c.a.Fragment,null,c.a.createElement(_,{onClickFormButton:e}))}}]),n}(a.Component),O=Object(h.b)((function(){return{}}),{createItem:function(e,t){return{type:"CREATE_ITEM",id:e,name:t}}})(b);n(113);function y(e){var t=e.selectedItem,n=e.onClick,a=e.showColorPicker,r=e.text,o=e.onChangeText,l=e.color;return c.a.createElement("div",{className:"comments"},c.a.createElement("span",{className:"comments__title"},"Comments #"),void 0!==t&&c.a.createElement("span",{className:"comments__title"},t.id),t&&t.comments&&t.comments.map((function(e){return c.a.createElement("div",{key:e.id,className:"comment"},c.a.createElement("div",{style:{backgroundColor:e.color},className:"comment__color"}),c.a.createElement("span",{className:"comment__text"},e.name))})),c.a.createElement("div",{className:"comments__form-wrapper"},c.a.createElement("div",{onClick:a,className:"comments__square-container"},c.a.createElement("div",{style:{backgroundColor:l},className:"comments__square"})),c.a.createElement("textarea",{value:r,placeholder:"Type comment here...",className:"comments__textarea",name:"comments",onChange:o}),c.a.createElement("button",{onClick:n,className:"comments__button"},"Add new")))}var I=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={text:""},e.onChangeText=function(t){e.setState({text:t.target.value})},e.getSelectedItem=function(){var t=e.props,n=t.items,a=t.main.selectedItemIndex;return n.filter((function(e,t){return t===a}))[0]},e.createComment=function(){var t=e.props,n=t.createComment,a=t.main,c=t.items,r=e.state.text;if(console.log(c.length),""!==r&&0!==c.length){var o=e.getSelectedItem(),l=d();n(o.id,l,r,a.selectedColor),e.setState({text:""})}},e}return Object(m.a)(n,[{key:"render",value:function(){var e=this.getSelectedItem(),t=this.props,n=t.showColorPicker,a=t.main,r=this.state.text;return c.a.createElement(y,{selectedItem:e,onClick:this.createComment,showColorPicker:n,text:r,onChangeText:this.onChangeText,color:a.selectedColor})}}]),n}(a.Component),k=Object(h.b)((function(e){return{items:e.items,main:e.main}}),{createComment:function(e,t,n,a){return{type:"CREATE_COMMENT",item_id:e,id:t,name:n,color:a}},showColorPicker:f})(I),j=n(97),g=(n(277),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).el=document.createElement("div"),e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){document.body.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.el)}},{key:"render",value:function(){var e=this.props.children;return o.a.createPortal(e,this.el)}}]),n}(a.Component)),x=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={background:"#000"},e.handleChangeComplete=function(t){e.setState({background:t.hex})},e.accept=function(){var t=e.props,n=t.setSelectedColor,a=t.hideColorPicker;n(e.state.background),a()},e}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props,t=e.hideColorPicker,n=e.main;return c.a.createElement(g,null,c.a.createElement("div",{className:n.isColorPicker?"my-color-picker visible":"my-color-picker hidden"},c.a.createElement(j.PhotoshopPicker,{color:this.state.background,onChangeComplete:this.handleChangeComplete,onAccept:this.accept,onCancel:t})))}}]),n}(c.a.Component),N=Object(h.b)((function(e){return{main:e.main}}),{setSelectedColor:function(e){return{type:"SET_SELECTED_COLOR",payload:e}},showColorPicker:f,hideColorPicker:function(){return{type:"HIDE_COLOR_PICKER"}}})(x);function T(){return c.a.createElement("section",{className:"main"},c.a.createElement(O,null),c.a.createElement(k,null),c.a.createElement(N,null))}var S=function(){return c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"wrapper"},c.a.createElement(l,null),c.a.createElement(T,null)))},w=n(17),P=n(26),R=n(38),D=Object(R.load)({namespace:"todo"});D&&D.items&&D.items.length||(D={items:[]});var L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D.items,t=arguments.length>1?arguments[1]:void 0,n=t.id,a=t.name,c=t.type,r=t.color,o=t.item_id;switch(c){case"CREATE_ITEM":return[].concat(Object(P.a)(e),[{id:n,name:a,comments:[]}]);case"DELETE_ITEM":return Object(P.a)(e).filter((function(e){return e.id!==n}));case"CREATE_COMMENT":var l={id:n,name:a,color:r};return Object(P.a)(e).map((function(e){return e.id===o&&(e.comments=[l].concat(Object(P.a)(e.comments))),e}));default:return e}},M=n(15),A={selectedItemIndex:0,selectedColor:"#000",isColorPicker:!1},K=Object(w.c)({items:L,main:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SELECTED_ITEM":return Object(M.a)(Object(M.a)({},e),{},{selectedItemIndex:t.payload});case"SET_SELECTED_COLOR":return Object(M.a)(Object(M.a)({},e),{},{selectedColor:t.payload});case"SHOW_COLOR_PICKER":return Object(M.a)(Object(M.a)({},e),{},{isColorPicker:!0});case"HIDE_COLOR_PICKER":return Object(M.a)(Object(M.a)({},e),{},{isColorPicker:!1});default:return e}}}),H=[Object(R.save)({namespace:"todo"})],U=Object(w.e)(K,Object(w.d)(w.a.apply(void 0,H),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(h.a,{store:U},c.a.createElement(S,null))),document.getElementById("root"))},98:function(e,t,n){e.exports=n(281)}},[[98,1,2]]]);
//# sourceMappingURL=main.e4c42254.chunk.js.map