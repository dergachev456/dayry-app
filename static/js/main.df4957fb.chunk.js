(this["webpackJsonpblynk-test-task"]=this["webpackJsonpblynk-test-task"]||[]).push([[0],{103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},279:function(e,t,n){},283:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(21),o=n.n(r);n(103),n(104);function l(){return c.a.createElement("aside",{className:"aside"},c.a.createElement("h1",{className:"aside__title"},"dayry app"),c.a.createElement("span",{className:"aside__text"},"Comment whit no sence"))}n(105);var m=n(11),i=n(12),s=n(15),u=n(14);n(106),n(107);function d(e){var t=e.items,n=e.deleteItem,a=e.selectedItemIndex,r=e.setSelectedItemIndex;return c.a.createElement("div",{className:"item-list"},t&&t.map((function(e,t){return c.a.createElement("div",{onClick:function(){return r(t)},key:e.id,className:a===t?"item active":"item"},c.a.createElement("span",{className:"item__name"},e.name),c.a.createElement("div",{className:"item__count-container"},c.a.createElement("span",{className:"item__count"},e.comments.length)),c.a.createElement("button",{onClick:function(){return n(e.id)},className:"item__button"},"Delete"))})))}var p=n(13),E=function(){return{type:"SHOW_COLOR_PICKER"}},h=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).deleteItem=function(t){(0,e.props.deleteItem)(t)},e}return Object(i.a)(n,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.items,n=e.main,a=e.setSelectedItemIndex;0===t.filter((function(e,t){return n.selectedItemIndex===t})).length&&0!==t.length&&a(t.length-1)}},{key:"render",value:function(){var e=this.props,t=e.items,n=e.main,a=e.setSelectedItemIndex;return c.a.createElement(d,{items:t,deleteItem:this.deleteItem,selectedItemIndex:n.selectedItemIndex,setSelectedItemIndex:a})}}]),n}(a.Component),C=Object(p.b)((function(e){return{items:e.items,main:e.main}}),{deleteItem:function(e){return{type:"DELETE_ITEM",id:e}},setSelectedItemIndex:function(e){return{type:"SET_SELECTED_ITEM",payload:e}}})(h),f=(n(112),function(e){var t=e.children,n=e.onClick,a=e.className;return c.a.createElement("button",{className:"custom-button ".concat(a),onClick:n},t)}),_=(n(113),function(e){var t=e.type,n=e.placeholder,a=e.onChange,r=e.className,o=e.value,l=e.onKeyPress;return c.a.createElement("input",{className:"custom-input ".concat(r),onChange:a,type:t,placeholder:n,value:o,onKeyPress:function(e){"Enter"===e.key&&l()}})});function v(e){var t=e.onClickFormButton,n=e.inputValue,a=e.onChangeInput;return c.a.createElement("div",{className:"items"},c.a.createElement("h2",{className:"items__title"},"Items"),c.a.createElement("div",{className:"items__form"},c.a.createElement(_,{value:n,placeholder:"Type name here...",className:"items__input",onChange:a,onKeyPress:t}),c.a.createElement(f,{onClick:t,className:"items__button"},"Add new")),c.a.createElement(C,null))}function b(){return Math.random().toString(36).substring(2,8)+Math.random().toString(36).substring(2,8)}var O=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).create=function(){var t=e.props,n=t.createItem,a=t.handleItemText,c=t.main.itemText;""!==c&&(n(b(),c),a(""))},e.onChangeItemText=function(t){e.props.handleItemText(t.target.value)},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props.main.itemText;return c.a.createElement(c.a.Fragment,null,c.a.createElement(v,{onClickFormButton:this.create,onChangeInput:this.onChangeItemText,inputValue:e}))}}]),n}(a.Component),I=Object(p.b)((function(e){return{main:e.main}}),{createItem:function(e,t){return{type:"CREATE_ITEM",id:e,name:t}},handleItemText:function(e){return{type:"HANDLE_ITEM_TEXT",payload:e}}})(O);n(114),n(115);function y(e){var t=e.selectedItem;return c.a.createElement(c.a.Fragment,null,t&&t.comments&&t.comments.map((function(e){return c.a.createElement("div",{key:e.id,className:"comment"},c.a.createElement("div",{style:{backgroundColor:e.color},className:"comment__color"}),c.a.createElement("span",{className:"comment__text"},e.name))})))}function T(e){var t=e.selectedItem,n=e.onClick,a=e.showColorPicker,r=e.inputValue,o=e.onChangeText,l=e.color;return c.a.createElement("div",{className:"comments"},c.a.createElement("span",{className:"comments__title"},"Comments #"),void 0!==t&&c.a.createElement("span",{className:"comments__title"},t.id),c.a.createElement(y,{selectedItem:t}),c.a.createElement("div",{className:"comments__form-wrapper"},c.a.createElement("div",{onClick:a,className:"comments__square-container"},c.a.createElement("div",{style:{backgroundColor:l},className:"comments__square"})),c.a.createElement("textarea",{value:r,placeholder:"Type comment here...",className:"comments__textarea",name:"comments",onChange:o}),c.a.createElement(f,{onClick:n,className:"comments__button"},"Add new")))}var k=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).onChangeText=function(t){(0,e.props.handleCommentText)(t.target.value)},e.getSelectedItem=function(){var t=e.props,n=t.items,a=t.main.selectedItemIndex;return n.filter((function(e,t){return t===a}))[0]},e.createComment=function(){var t=e.props,n=t.createComment,a=t.main,c=a.commentText,r=a.selectedColor,o=t.items,l=t.handleCommentText;if(""!==c&&0!==o.length){var m=e.getSelectedItem(),i=b();n(m.id,i,c,r),l("")}},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.getSelectedItem(),t=this.props,n=t.showColorPicker,a=t.main;return c.a.createElement(T,{selectedItem:e,onClick:this.createComment,showColorPicker:n,onChangeText:this.onChangeText,color:a.selectedColor,inputValue:a.commentText})}}]),n}(a.Component),g=Object(p.b)((function(e){return{items:e.items,main:e.main}}),{createComment:function(e,t,n,a){return{type:"CREATE_COMMENT",item_id:e,id:t,name:n,color:a}},showColorPicker:E,handleCommentText:function(e){return{type:"HANDLE_COMMENT_TEXT",payload:e}}})(k),N=n(97),j=(n(279),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).el=document.createElement("div"),e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){document.body.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.el)}},{key:"render",value:function(){var e=this.props.children;return o.a.createPortal(e,this.el)}}]),n}(a.Component)),x=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={background:"#000"},e.handleChangeComplete=function(t){e.setState({background:t.hex})},e.accept=function(){var t=e.props,n=t.setSelectedColor,a=t.hideColorPicker;n(e.state.background),a()},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.hideColorPicker,n=e.main;return c.a.createElement(j,null,c.a.createElement("div",{className:n.isColorPicker?"my-color-picker visible":"my-color-picker hidden"},c.a.createElement(N.PhotoshopPicker,{className:"my-picker",color:this.state.background,onChangeComplete:this.handleChangeComplete,onAccept:this.accept,onCancel:t})))}}]),n}(c.a.Component),S=Object(p.b)((function(e){return{main:e.main}}),{setSelectedColor:function(e){return{type:"SET_SELECTED_COLOR",payload:e}},showColorPicker:E,hideColorPicker:function(){return{type:"HIDE_COLOR_PICKER"}}})(x);function w(){return c.a.createElement("section",{className:"main"},c.a.createElement(I,null),c.a.createElement(g,null),c.a.createElement(S,null))}var P=function(){return c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"wrapper"},c.a.createElement(l,null),c.a.createElement(w,null)))},M=n(17),D=n(26),L=n(38),A=Object(L.load)({namespace:"todo"});A&&A.items&&A.items.length||(A={items:[]});var R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A.items,t=arguments.length>1?arguments[1]:void 0,n=t.id,a=t.name,c=t.type,r=t.color,o=t.item_id;switch(c){case"CREATE_ITEM":return[].concat(Object(D.a)(e),[{id:n,name:a,comments:[]}]);case"DELETE_ITEM":return Object(D.a)(e).filter((function(e){return e.id!==n}));case"CREATE_COMMENT":var l={id:n,name:a,color:r};return Object(D.a)(e).map((function(e){return e.id===o&&(e.comments=[l].concat(Object(D.a)(e.comments))),e}));default:return e}},H=n(6),X={selectedItemIndex:0,selectedColor:"#000",isColorPicker:!1,itemText:"",commentText:""},K=Object(M.c)({items:R,main:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SELECTED_ITEM":return Object(H.a)(Object(H.a)({},e),{},{selectedItemIndex:t.payload});case"SET_SELECTED_COLOR":return Object(H.a)(Object(H.a)({},e),{},{selectedColor:t.payload});case"SHOW_COLOR_PICKER":return Object(H.a)(Object(H.a)({},e),{},{isColorPicker:!0});case"HIDE_COLOR_PICKER":return Object(H.a)(Object(H.a)({},e),{},{isColorPicker:!1});case"HANDLE_ITEM_TEXT":return Object(H.a)(Object(H.a)({},e),{},{itemText:t.payload});case"HANDLE_COMMENT_TEXT":return Object(H.a)(Object(H.a)({},e),{},{commentText:t.payload});default:return e}}}),V=[Object(L.save)({namespace:"todo"})],F=Object(M.e)(K,Object(M.d)(M.a.apply(void 0,V),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(p.a,{store:F},c.a.createElement(P,null))),document.getElementById("root"))},98:function(e,t,n){e.exports=n(283)}},[[98,1,2]]]);
//# sourceMappingURL=main.df4957fb.chunk.js.map